pools:
  enemies:
    # --- Common Enemies ---
    # (Maioria mantida, com ajustes pontuais para introduzir mecânicas)

    Zombie: # (Mantido como está - Baseline)
      cost: 10 
      weight: 100 
      tags: [Common, Undead, Physical] 
      hp: 65 
      skills: ['Quick Strike', 'Wait'] 
      equipment: [] 
      exp_yield: 25

    Skeleton Archer: # (Mantido como está - Dano Ranged simples)
      cost: 12 
      weight: 70 
      tags: [Common, Undead, Physical, Ranged] 
      hp: 50 
      skills: ['Quick Strike', 'Wait'] 
      equipment: ['Rusty Dagger'] 
      exp_yield: 20

    Cave Spider: # (AUMENTAR Peso - Aparecer mais cedo para ensinar DoT)
      cost: 11 
      weight: 85 
      tags: [Common, Beast, Poison, Debuff_Speed] 
      hp: 60 
      skills: ['Quick Strike', 'Poison Shot', 'Wait'] 
      equipment: [] 
      exp_yield: 15

    Bandit: # (Mantido como está - Simula o agente)
      cost: 13 
      weight: 65 
      tags: [Common, Human, Physical] 
      hp: 75 
      skills: ['Quick Strike', 'Heavy Blow', 'Wait'] 
      equipment: ['Shortsword', 'Leather Tunic'] 
      exp_yield: 40

    Forest Wisp: # (Mantido como está - Ensina Blind)
      cost: 10 
      weight: 70 
      tags: [Common, Magical, Illusion] 
      hp: 40 
      skills: ['Blinding Light', 'Wait'] 
      equipment: [] 
      exp_yield: 18

    Poisonous Mushroom: # (Mantido como está - DoT + Anti-cura)
      cost: 8 
      weight: 80 
      tags: [Common, Beast, Poison, Debuff_Healing] 
      hp: 50 
      skills: ['Poison Shot', 'Wait'] 
      equipment: [] 
      exp_yield: 20

    Goblin: # (AUMENTAR HP + ADICIONAR Debuff - Ensina War Cry mais cedo)
      cost: 9 
      weight: 90 
      tags: [Common, Beast, Aggressive] 
      hp: 65 
      skills: ['Quick Strike', 'War Cry', 'Wait'] 
      equipment: ['Wooden Club'] 
      exp_yield: 12

    Shadow Assassin: # (Mantido como está - Ensina burst/stealth)
      cost: 15 
      weight: 50 
      tags: [Common, Stealth, Debuff_Accuracy] 
      hp: 65 
      skills: ['Shadow Strike', 'Blinding Light', 'Wait'] 
      equipment: ['Twin Daggers'] 
      exp_yield: 30

    Cursed Spirit: # (Mantido como está - Ensina Life Drain + Debuff)
      cost: 14 
      weight: 55 
      tags: [Common, Undead, Cursed, Debuff_Morale] 
      hp: 70 
      skills: ['Soul Drain', 'War Cry', 'Wait'] 
      equipment: [] 
      exp_yield: 100 # EXP talvez um pouco alto? Mas ok.

    Poisoned Rat: # (Mantido como está - DoT Fraco)
      cost: 7 
      weight: 85 
      tags: [Common, Beast, Poison, Debuff_Speed] 
      hp: 40 
      skills: ['Quick Strike', 'Poison Shot', 'Wait'] 
      equipment: [] 
      exp_yield: 20

    Giant Bat: # (Mantido como está - Evasivo/Knockback)
      cost: 10 
      weight: 75 
      tags: [Common, Beast, Aggressive] 
      hp: 50 
      skills: ['Quick Strike', 'Wind Slash', 'Wait'] 
      equipment: [] 
      exp_yield: 11

    Cursed Zombie: # (Mantido como está - Tank + Debuff)
      cost: 12 
      weight: 60 
      tags: [Common, Undead, Cursed, Debuff_Morale] 
      hp: 80 
      skills: ['Heavy Blow', 'War Cry', 'Wait'] 
      equipment: [] 
      exp_yield: 18

    Dark Cultist: # (Mantido como está - Glass Cannon Mágico)
      cost: 16 
      weight: 40 
      tags: [Common, Human, Magical, Debuff_Speed] 
      hp: 65 
      skills: ['Frostbite', 'Blade of Chaos', 'Wait'] 
      equipment: ['Worn Cloak', 'Old Charm'] 
      exp_yield: 35

    Poisoned Scorpion: # (Mantido como está - Variante DoT)
      cost: 9 
      weight: 80 
      tags: [Common, Beast, Poison, Debuff_Speed] 
      hp: 50 
      skills: ['Poison Shot', 'Wait'] 
      equipment: [] 
      exp_yield: 14

    Cursed Knight: # (MODIFICADO - Introduz Stun Simples)
      cost: 18 
      weight: 30 
      tags: [Common, Undead, Cursed, Physical, Tank, Control] 
      hp: 130
      skills: ['Heavy Blow', 'Shield Bash', 'Wait'] # Remove Stone Shield, adiciona Stun (Shield Bash cd 2)
      equipment: ['Iron Sword', 'Chain Shirt', 'Amulet of Vigor'] 
      exp_yield: 50
      # Redesign: Agora ele é um tanque que *ensina* o agente a lidar com Stun frequente, sem outras mecânicas complexas.

    Shadow Lurker: # (Mantido como está - Stealth + Blind)
      cost: 14 
      weight: 60 
      tags: [Common, Stealth, Debuff_Accuracy] 
      hp: 60 
      skills: ['Shadow Strike', 'Blinding Light', 'Wait'] 
      equipment: ['Serrated Blade'] 
      exp_yield: 28

    Wild Boar: # (Mantido como está - Parede de HP simples)
      cost: 9 
      weight: 80 
      tags: [Common, Beast, Physical, Aggressive] 
      hp: 85 
      skills: ['Heavy Blow', 'Wait'] 
      equipment: [] 
      exp_yield: 15

    # --- Elites (Antigos "Bosses" de Nível Baixo/Médio) ---
    # (Ajustes para suavizar a curva inicial)    

    Krul: # (Mantido como está - Stat check físico)
      cost: 20 
      weight: 10 
      tags: [Elite, Physical, Heavy] 
      hp: 180 
      skills: ['Heavy Blow', 'War Cry', 'Wait'] 
      equipment: ['Battle Axe', 'Steel Plate'] 
      exp_yield: 75
      min_floor: 25

    Laezarus: # (NERFADO - Leve redução de HP)
      cost: 22 
      weight: 5 
      tags: [Elite, Tank, Defensive] 
      hp: 260 # Era 300
      skills: ['Shield Bash', 'Stone Shield', 'Wait'] 
      equipment: ['Knight’s Mail'] 
      exp_yield: 85
      min_floor: 25
      # Redesign: Ainda muito tanque, mas um pouco menos HP para reduzir a duração da luta.

    'A Thousand Cursed': # (Mantido como está - Controle chato mas frágil)
      cost: 23 
      weight: 3 
      tags: [Elite, Magical, Debuff_Speed] 
      hp: 160 
      skills: ['Frostbite', 'Ice Spike', 'Wait'] 
      equipment: ['Traveler’s Coat'] 
      exp_yield: 95
      min_floor: 50

    Berserker Spirit: # (NERFADO - HP Reduzido)
      cost: 28 
      weight: 12 
      tags: [Elite, Undead, Aggressive, Physical] 
      hp: 170 # Era 190
      skills: ['Heavy Blow', 'Berserker Rage', 'Wait'] 
      equipment: ['Battle Axe'] 
      exp_yield: 100
      min_floor: 50
      # Redesign: Agente tem mais chance de matá-lo antes que o Berserker Rage (buff de dano) se torne insustentável.

    Flesh Abomination: # (Mantido como está - DPS Check)
      cost: 32 
      weight: 8 
      tags: [Elite, Undead, Cursed, Heavy] 
      hp: 320 
      skills: ['Heavy Blow', 'War Cry', 'Wait'] 
      equipment: [] 
      exp_yield: 120
      min_floor: 70

    Twilight Stalker: # (NERFADO - Aumenta CD do ataque forte)
      cost: 27 
      weight: 10 
      tags: [Elite, Stealth, Control_Fear] 
      hp: 150
      skills: ['Shadow Strike', 'Blinding Light', 'Wait'] # Shadow Strike CD original: 3
      # Mudar skill Shadow Strike para ter CD 4 (no skill_catalog.yaml ou aqui)
      equipment: ['Twin Daggers'] 
      exp_yield: 110
      min_floor: 70
      # Redesign: Reduz a frequência do burst damage inicial.

    # --- Bosses (Antigos "Elite" de Nível Alto - Desafios Maiores) ---
    # (Reordenados e alguns mantidos como desafios finais)

    Lava Golem: # Bem vindo ao gigante
      cost: 25 
      weight: 15 
      tags: [Elite, Thermal, Area_Damage] 
      hp: 220 # Nerf: -100 HP (era 320)
      skills: ['Heavy Blow', 'Flame Burst', 'Earthquake', 'Wait']
      equipment: ['Warhammer'] 
      exp_yield: 90
      min_floor: 85
      # Redesign: Stun um pouco menos frequente para reduzir o lockdown. Continua perigoso com AOE+DoT.

    Kalisto: # (NERFADO DRASTICAMENTE - Era um muro muito cedo)
      cost: 35 
      weight: 5 # Peso baixo, deve aparecer mais tarde
      tags: [Boss, Beast, Aggressive, Heavy] 
      hp: 250 # Nerf: -150 HP (era 400)
      skills: ['Heavy Blow', 'Berserker Rage', 'Wait'] # Berserker Rage CD original: 5
      # Mudar skill Berserker Rage para ter CD 6 (no skill_catalog.yaml ou aqui)
      equipment: ['Ragnar’s Wrath'] 
      exp_yield: 350 # EXP ainda alto para compensar
      min_floor: 100
      # Redesign: HP muito reduzido e Rage menos frequente. Deixa de ser o "filtro" inicial.

    'Bedrose Gardener': # (Mantido Forte - Desafio de Sustentação)
      cost: 30 
      weight: 10 
      tags: [Boss, Undead, Physical, Tank] 
      hp: 600 
      skills: ['Heavy Blow', 'Stone Shield', "Natures' Grasp", 'Wait'] 
      equipment: ['Stoneshield Armor'] 
      exp_yield: 200
      min_floor: 130

    Queen Arachna: # (Mantida Forte - Desafio de DoT)
      cost: 48 
      weight: 6 
      tags: [Boss, Beast, Poison] 
      hp: 450 # Removido Summoner
      skills: ['Poison Shot', 'Poison Cloud', 'Wait'] 
      equipment: ["Poisoner's Talisman", 'Shadowfang'] 
      exp_yield: 380
      min_floor: 130

    Ashen Monarch: # (Mantido Forte - Desafio de AOE)
      cost: 52 
      weight: 4 
      tags: [Boss, Thermal, Heat, Heavy] 
      hp: 550 
      skills: ['Meteor Strike', 'Flame Burst', 'War Cry', 'Wait'] 
      equipment: ['Flamebrand', 'Mantle of the Phoenix'] 
      exp_yield: 420
      min_floor: 150

    'Hopeless Agent': # (REFEITO - Agora foca no Life Drain, EXP ajustado)
      cost: 40 
      weight: 5 
      tags: [Boss, Undead, Cursed] 
      hp: 400 # Removido Summoner
      skills: ['Soul Drain', 'War Cry', 'Wait'] # Adicionado War Cry para mais pressão
      equipment: ['Cursed Locket', 'Mantle of the Void'] 
      exp_yield: 180 # EXP Reduzido
      min_floor: 180
      # Redesign: Foca no desgaste (DoT, Life Drain, Debuff Damage). EXP mais condizente.

    Lich: # (REFEITO - Foco no Controle + Life Drain, EXP ajustado)
      cost: 50 
      weight: 20 # Peso alto, aparece com frequência no late game
      tags: [Boss, Undead, Magical, Control] 
      hp: 480 # Removido Summoner
      skills: ['Vampiric Touch', 'Frost Nova', 'Wait'] 
      equipment: ['Orb of Decay', 'Void Crystal'] 
      exp_yield: 300 # EXP Reduzido
      min_floor: 250
      # Redesign: Principal desafio de controle mágico e sustentação.

    'The Dark Knight': # (Mantido como Chefão Final - Tanque Supremo)
      cost: 45 
      weight: 15 
      tags: [Boss, Undead, Physical, Tank] 
      hp: 700 
      skills: ['Heavy Blow', 'Shield Bash', 'War Cry', 'Wait'] 
      equipment: ['Sword of the Forgotten King', 'Armor of Eternity'] 
      exp_yield: 400
      min_floor: 300

    'The Forgotten One': # (Mantido como Chefão Final - Controle Supremo)
      cost: 55 
      weight: 3 # Peso baixo, raro
      tags: [Boss, Undead, Magical, Cursed, Control] 
      hp: 500 
      skills: ['Soul Drain', 'Stunning Hammer', 'Blinding Light', 'Wait'] 
      equipment: ['Mantle of the Void', 'Crown of Omens'] 
      exp_yield: 480
      min_floor: 400

  events: # Mantido.    
    Treasure:      # Baú comum, mais frequente das recompensas
      cost: -5
      weight: 60   # Aumentado para ser a recompensa padrão
      tags: [Reward, Common]

    'Morbid Treasure': # Baú melhor, mais raro e talvez com maior risco (associado a 'Morbid')
      cost: -15
      weight: 15   # Mantido raro
      tags: [Reward, Morbid]

    'Fountain of Life': # Cura, relativamente rara mas muito valiosa
      cost: -10
      weight: 25   # Peso intermediário, mais comum que Morbid Treasure
      tags: [Reward, Healing, Sanctuary]
    
    None:          
      cost: 0
      weight: 100  # Ajustado para balancear (Total = 60+15+25+100 = 200)
      tags: []

  room_effects: 
    # Efeitos Negativos:
    'Slow Terrain': # (REFEITO - Aplica Slow real, menos comum)
      cost: 5
      weight: 20 # (Reduzido de 30)
      description: "O terreno difícil aplica 'Slow' em todos no início do combate."
      tags: [Terrain, Debuff, Control] # Adicionado Control
      effect_to_apply: Slow # Assume que agora aplica o efeito 'Slow' do effect_ruleset

    Heat: # (Mantido)
      cost: 7
      weight: 15
      description: "O calor intenso aplica 'Burn' em todos a cada rodada."
      tags: [Heat, Thermal, Hazard] # Adicionado Hazard
      type: DoT
      effect_to_apply: Burn

    'Dense Fog': # (Mantido, mas menos comum)
      cost: 4
      weight: 15 # (Reduzido de 20)
      description: "A neblina densa aplica 'Blind' em todos no início do combate."
      tags: [Visibility, Debuff]
      effect_to_apply: Blind
    
    'Weakening Field':
      cost: 6
      weight: 10 # Raro
      description: "Uma aura profana reduz a eficácia de curas em 50% na sala."
      tags: [Cursed, Debuff, Healing_Debuff]
      # Implementação: No combate, verificar se esse efeito está ativo e reduzir curas

    # Efeitos Positivos:
    'Evasion Zone': # (Mais Comum)
      cost: -4
      weight: 30 # (Aumentado de 25)
      description: "Uma névoa mágica concede bônus de evasão a todos no início do combate."
      tags: [Buff, Visibility] # Adicionado Visibility
      stat_modifier:
        evasion_chance: 0.15

    'Amplifying Field': # (Mantido)
      cost: -10
      weight: 15
      description: "O campo de energia aumenta o dano de todos em 15%."
      tags: [Buff, Magical]
      stat_modifier:
        damage_modifier: 0.15

    'Consecrated Ground': # (Mantido)
      cost: -8
      weight: 10
      description: "O solo sagrado cura todos os combatentes em 2% HP a cada rodada." # Clarificado o valor
      tags: [Sanctuary, Healing, Buff] # Adicionado Buff
      persistent_effect:
        type: Heal_Self
        heal_per_round: 0.02 # Usando o valor que estava no código

    # --- NOVO Efeito Positivo/Negativo Temático ---
    'Conductive Field':
      cost: -2 # Ligeiramente positivo por permitir estratégias de burst
      weight: 10 # Raro
      description: "A energia arcana no ar aumenta todo o dano mágico causado e recebido em 25%."
      tags: [Magical, Risk_Reward]  

    None:
      cost: 0
      weight: 115 # (Aumentado de 100) - Compensa as adições e ajustes
      tags: []